{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"52913188-dddfb770e3e7ce37c62d4d4c9\"; \nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query.trim(),\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n    per_page: 40,\n  };\n\n  const { data } = await axios.get(BASE_URL, { params });\n  return data; \n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryRef = document.getElementById(\"gallery\");\nconst loaderRef  = document.getElementById(\"loader\");\n\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 200,\n});\n\nexport function createGallery(images) {\n  const gallery = document.getElementById('gallery');\n  const markup = images\n    .map(\n      image => `\n      <li class=\"card\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </a>\n        <div class=\"meta\">\n          <span>‚ù§Ô∏è ${image.likes}</span>\n          <span>üëÅÔ∏è ${image.views}</span>\n          <span>üí¨ ${image.comments}</span>\n          <span>‚¨áÔ∏è ${image.downloads}</span>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  galleryRef.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loaderRef.classList.add(\"is-active\");\n  loaderRef.setAttribute(\"aria-hidden\", \"false\");\n}\n\nexport function hideLoader() {\n  loaderRef.classList.remove(\"is-active\");\n  loaderRef.setAttribute(\"aria-hidden\", \"true\");\n}\n\nfunction escapeHtml(str = \"\") {\n  return str.replace(/[&<>\"']/g, m => ({ \"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#039;\" }[m]));\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst input = form.elements[\"search-text\"];\n\nform.addEventListener(\"submit\", onSearch);\n\nasync function onSearch(e) {\n  e.preventDefault();\n  const query = input.value.trim();\n\n  clearGallery();\n\n  if (!query) {\n    iziToast.warning({\n      title: \"–£–ø—Å!\",\n      message: \"–í–≤–µ–¥—ñ—Ç—å –ø–æ—à—É–∫–æ–≤–µ —Å–ª–æ–≤–æ.\",\n      position: \"topRight\",\n    });\n    return;\n  }\n\n  showLoader();\n\n  try {\n    const data = await getImagesByQuery(query);\n\n    if (!data.hits || data.hits.length === 0) {\n      iziToast.info({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n      });\n      return;\n    }\n\n    createGallery(data.hits);\n  } catch (err) {\n    iziToast.error({\n      title: \"–ü–æ–º–∏–ª–∫–∞\",\n      message: `–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è: ${err.message}`,\n      position: \"topRight\",\n    });\n  } finally {\n    hideLoader();\n  }\n}\n\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","data","axios","galleryRef","loaderRef","lightbox","SimpleLightbox","createGallery","images","gallery","markup","image","clearGallery","showLoader","hideLoader","form","input","onSearch","e","iziToast","err"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CAC5C,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EAAM,KAAM,EACf,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,EAEQ,CAAE,KAAAE,CAAM,EAAG,MAAMC,EAAM,IAAIL,EAAU,CAAE,OAAAG,CAAM,CAAE,EACrD,OAAOC,CACT,CCdA,MAAME,EAAa,SAAS,eAAe,SAAS,EAC9CC,EAAa,SAAS,eAAe,QAAQ,EAG7CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAASF,EACZ,IACCG,GAAS;AAAA;AAAA,mBAEIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,qBAGvCA,EAAM,KAAK;AAAA,sBACVA,EAAM,KAAK;AAAA,qBACZA,EAAM,QAAQ;AAAA,qBACdA,EAAM,SAAS;AAAA;AAAA;AAAA,KAI/B,EACA,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAM,EAC9CL,EAAS,QAAO,CAClB,CAEO,SAASO,GAAe,CAC7BT,EAAW,UAAY,EACzB,CAEO,SAASU,GAAa,CAC3BT,EAAU,UAAU,IAAI,WAAW,EACnCA,EAAU,aAAa,cAAe,OAAO,CAC/C,CAEO,SAASU,GAAa,CAC3BV,EAAU,UAAU,OAAO,WAAW,EACtCA,EAAU,aAAa,cAAe,MAAM,CAC9C,CC1CA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,eAAeA,EAASC,EAAG,CACzBA,EAAE,eAAc,EAChB,MAAMnB,EAAQiB,EAAM,MAAM,KAAI,EAI9B,GAFAJ,IAEI,CAACb,EAAO,CACVoB,EAAS,QAAQ,CACf,MAAO,OACP,QAAS,0BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,IAEA,GAAI,CACF,MAAMZ,EAAO,MAAMH,EAAiBC,CAAK,EAEzC,GAAI,CAACE,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACxCkB,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,UAClB,CAAO,EACD,MACD,CAEDZ,EAAcN,EAAK,IAAI,CACxB,OAAQmB,EAAK,CACZD,EAAS,MAAM,CACb,MAAO,UACP,QAAS,sCAAsCC,EAAI,OAAO,GAC1D,SAAU,UAChB,CAAK,CACL,QAAY,CACRN,GACD,CACH"}